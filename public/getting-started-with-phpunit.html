<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet">
  <link href="css/highlight.min.css" rel="stylesheet">
  <link href="css/style.css" type="text/css" rel="stylesheet">
  <!--[if lt IE 9]><script src="js/html5shiv.min.js"></script><![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700%7CSource+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <title>Getting Started with PHPUnit &#x2013; The PHP Testing Framework</title>
 </head>
 <body>
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
   <div class="container">
    <div class="navbar-header">
     <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
     </button>
    </div>
    <div class="navbar-collapse collapse">
     <ul class="nav navbar-nav">
      <li><a href="index.html">Home</a></li>
      <li class="active"><a href="getting-started-with-phpunit.html">Getting Started</a></li>
      <li><a href="documentation.html">Documentation</a></li>
      <li><a href="extensions.html">Extensions</a></li>
      <li><a href="https://github.com/sebastianbergmann/phpunit">GitHub</a></li>
     </ul>
    </div>
   </div>
  </div>
  <div class="container">
   <div class="row">
    <div class="col-md-12">
     <h1>Getting Started with PHPUnit</h1>
     <p>This tutorial assumes that you use PHP 7.1 or PHP 7.2. You will learn how to write simple unit tests as well as how to download and run PHPUnit.</p>
     <blockquote>
      <p>Go <a href="getting-started-with-phpunit-for-php70.html">here</a> if you still use PHP 7.0.</p>
      <p>Go <a href="getting-started-with-phpunit-for-php56.html">here</a> if you still use PHP 5.6.</p>
     </blockquote>
     <h2>Download</h2>
        <p>We distribute a <a href="http://php.net/phar">PHP Archive (PHAR)</a> that contains everything you need in order to use PHPUnit 7. Simply download it from <a href="https://phar.phpunit.de/phpunit-7.phar">here</a>, make it executable, and put it into your <code>$PATH</code>, for instance:</p>
    </div>
   </div>
   <div class="row">
    <div class="col-md-6">
     <pre><strong>➜ wget https://phar.phpunit.de/phpunit-7.phar

➜ chmod +x phpunit-7.phar

➜ sudo mv phpunit-7.phar /usr/local/bin/phpunit

➜ phpunit --version</strong>
PHPUnit 7.0.0 by Sebastian Bergmann and contributors.</pre>
    </div>
   </div>
   <div class="row">
    <div class="col-md-12">
     <p>The example shown above assumes that <code>/usr/local/bin</code> is on your <code>$PATH</code>.</p>
     <p>You can also immediately use the PHAR after you have downloaded it, of course:</p>
    </div>
   </div>
   <div class="row">
    <div class="col-md-6">
     <pre><strong>➜ wget https://phar.phpunit.de/phpunit-7.phar

➜ php phpunit-7.phar --version</strong>
PHPUnit 7.0.0 by Sebastian Bergmann and contributors</pre>
    </div>
   </div>
   <div class="row">
    <div class="col-md-12">
     <p>Please refer to the documentation for details on how to <a href="https://phpunit.de/manual/current/en/installation.html#installation.phar.verification">verify PHAR releases of PHPUnit</a> or how to <a href="https://phpunit.de/manual/current/en/installation.html#installation.composer">install PHPUnit using Composer</a>.</p>
    </div>
   </div>
   <div class="row">
    <div class="col-md-6">
     <h2>Code</h2>
     <p><strong>src/Email.php</strong></p>
     <pre><code>&lt;?php
declare(strict_types=1);

final class Email
{
    private $email;

    private function __construct(string $email)
    {
        $this->ensureIsValidEmail($email);

        $this->email = $email;
    }

    public static function fromString(string $email): self
    {
        return new self($email);
    }

    public function __toString(): string
    {
        return $this->email;
    }

    private function ensureIsValidEmail(string $email): void
    {
        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            throw new InvalidArgumentException(
                sprintf(
                    '"%s" is not a valid email address',
                    $email
                )
            );
        }
    }
}</code></pre>
    </div>
    <div class="col-md-6">
     <h2>Test Code</h2>
     <p><strong>tests/EmailTest.php</strong></p>
     <pre><code>&lt;?php
declare(strict_types=1);

use PHPUnit\Framework\TestCase;

final class EmailTest extends TestCase
{
    public function testCanBeCreatedFromValidEmailAddress(): void
    {
        $this->assertInstanceOf(
            Email::class,
            Email::fromString('user@example.com')
        );
    }

    public function testCannotBeCreatedFromInvalidEmailAddress(): void
    {
        $this->expectException(InvalidArgumentException::class);

        Email::fromString('invalid');
    }

    public function testCanBeUsedAsString(): void
    {
        $this->assertEquals(
            'user@example.com',
            Email::fromString('user@example.com')
        );
    }
}






</code></pre>
    </div>
   </div>
   <div class="row">
    <div class="col-md-12">
     <h2>Test Execution</h2>
    </div>
   </div>
   <div class="row">
    <div class="col-md-6">
     <pre><strong>➜ phpunit --bootstrap src/Email.php tests/EmailTest</strong>
PHPUnit 7.0.0 by Sebastian Bergmann and contributors.

...                                                                 3 / 3 (100%)

Time: 70 ms, Memory: 10.00MB

OK (3 tests, 3 assertions)</pre>
    </div>
   </div>  
   <div class="row">
    <div class="col-md-12">
     <p>Lets have a look at what the three parts of above's invokation mean:</p>
     <ul>
      <li>
       <p><code>phpunit</code> invokes the PHPUnit command-line test runner. We assume that you have downloaded <code>phpunit.phar</code> (see above) and put it into your <code>$PATH</code> as <code>phpunit</code>.</p>
      </li>
      <li>
       <p><code>--bootstrap src/Email.php</code> instructs the PHPUnit command-line test runner to include <code>src/Email.php</code> before the test execution.</p>
       <p>Usually, though, you use <code>--bootstrap</code> to instruct the PHPUnit command-line test runner to include bootstrap script that sets up <a href="http://php.net/manual/en/language.oop5.autoload.php">autoloading</a> for the classes that are to be tested. Such a script is commonly generated using tools such as <a href="https://getcomposer.org/">Composer</a> or <a href="https://github.com/theseer/Autoload/#readme">phpab</a>.</p>
      </li>
      <li>
       <p><code>tests/EmailTest</code> instructs the PHPUnit command-line test runner to execute the tests of the <code>EmailTest</code> class that is declared in <code>tests/EmailTest.php</code>.</p>
       <p>Using <code>tests</code> instead of <code>tests/EmailTest</code> would instruct the PHPUnit command-line test runner to execute all tests found declared in <code>*Test.php</code> sourcecode files in the <code>tests</code> directory.</p>
      </li>
     </ul>
     <p>Below you see an alternative output of the test result that is enabled using the <code>--testdox</code> option:</p>
    </div>
   </div>
   <div class="row">
    <div class="col-md-6">
     <pre><strong>➜ phpunit --bootstrap src/Email.php --testdox tests</strong>
PHPUnit 7.0.0 by Sebastian Bergmann and contributors.

Email
 ✔ Can be created from valid email address
 ✔ Cannot be created from invalid email address
 ✔ Can be used as string</pre>
    </div>
   </div>
   <div class="row">
    <div class="col-md-12">
     <p>This output is based on the idea that the name of a test can be used to document the behavior that is verified by the test.</p>
    </div>
   </div>
   <hr>
   <div class="footer">
    <p>Copyright &copy; 2001-2017 Sebastian Bergmann.</p>
   </div>
  </div>
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script src="js/highlight.min.js"></script>
  <script src="js/highlight.js"></script>
 </body>
</html>

